# Read the Docs configuration file for Docusaurus
# See https://docs.readthedocs.io/en/stable/config-file/v2.html for details
#
# Note: ReadTheDocs is used for PR preview builds only.
# Primary documentation hosting is on VM via GitHub Actions.

version: 2

build:
  os: "ubuntu-22.04"
  tools:
    nodejs: "20"
  commands:
    # Install dependencies
    - cd atlas/docs && npm ci
    # Build the Docusaurus site
    - cd atlas/docs && npm run build
    # Copy built files to Read the Docs output directory
    - mkdir --parents $READTHEDOCS_OUTPUT/html/
    - cp --recursive atlas/docs/build/* $READTHEDOCS_OUTPUT/html/
